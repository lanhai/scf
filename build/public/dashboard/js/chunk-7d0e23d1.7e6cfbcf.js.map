{"version":3,"sources":["webpack:///./src/views/server/Queue.vue?c8c3","webpack:///src/views/server/Queue.vue","webpack:///./src/views/server/Queue.vue?1041","webpack:///./src/views/server/Queue.vue","webpack:///./node_modules/core-js/modules/es6.date.now.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","inline","model","searchParams","label-width","placeholder","on","change","getList","value","callback","$$v","$set","expression","_l","item","key","status","label","prop","align","type","picker-options","pickerOptions","format","value-format","icon","loading","isLoading","click","$event","_v","staticStyle","width","data","dataList","stripe","row-key","scopedSlots","_u","fn","scope","_s","_f","row","created","updated","try_times","try_limit","next_try","duration","placement","title","trigger","expand-depth","expanded","slot","_e","remark","result","background","current-page","page","page-sizes","page-size","size","layout","total","count","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","update:current-page","staticRenderFns","Queuevue_type_script_lang_js_","name","components","JsonViewer","mounted","statusMaps","disabledDate","time","getTime","Date","now","shortcuts","text","onClick","picker","$emit","date","setTime","day","moment","$route","params","failed","success","methods","_this","$request","get","$copy","then","errCode","$message","error","message","list","catch","val","server_Queuevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","$export","__webpack_require__","S"],"mappings":"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","file":"js/chunk-7d0e23d1.7e6cfbcf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"searchForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.searchParams,\"label-width\":\"90px\"}},[_c('el-select',{attrs:{\"placeholder\":\"状态\"},on:{\"change\":_vm.getList},model:{value:(_vm.searchParams.status),callback:function ($$v) {_vm.$set(_vm.searchParams, \"status\", $$v)},expression:\"searchParams.status\"}},_vm._l((_vm.statusMaps),function(item){return _c('el-option',{key:item.status,attrs:{\"label\":item.label,\"value\":item.status}})}),1),_c('el-form-item',{staticClass:\"ml-10\",attrs:{\"prop\":\"day\"}},[_c('el-date-picker',{attrs:{\"align\":\"right\",\"type\":\"date\",\"placeholder\":\"选择日期\",\"picker-options\":_vm.pickerOptions,\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\"},on:{\"change\":_vm.getList},model:{value:(_vm.searchParams.day),callback:function ($$v) {_vm.$set(_vm.searchParams, \"day\", $$v)},expression:\"searchParams.day\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"icon\":\"el-icon-search\",\"type\":\"primary\",\"loading\":_vm.isLoading},on:{\"click\":function($event){return _vm.getList()}}},[_vm._v(\"查询\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataList,\"stripe\":\"\",\"row-key\":\"id\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"240\"}}),_c('el-table-column',{attrs:{\"prop\":\"handler\",\"label\":\"脚本\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"created\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"HumanizedTime\")(scope.row.created)))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"finished\",\"label\":\"更新时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"HumanizedTime\")(scope.row.updated)))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"try_times\",\"label\":\"执行次数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.try_times)+\"/\"+_vm._s(scope.row.try_limit))]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"执行状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status===1)?_c('el-tag',{staticClass:\"el-icon-success\",attrs:{\"type\":\"success\"}},[_vm._v(\" 成功\")]):(scope.row.status===-1 && scope.row.try_times>=scope.row.try_limit)?_c('el-tag',{staticClass:\"el-icon-warning\",attrs:{\"type\":\"warning\"}},[_vm._v(\" 失败\")]):(scope.row.status===-1 && scope.row.try_times<scope.row.try_limit)?_c('el-tag',{staticClass:\"el-icon-info\",attrs:{\"type\":\"warning\"}},[_vm._v(_vm._s(_vm._f(\"HumanizedTime\")(scope.row.next_try))+\"重试\")]):_c('el-tag',{staticClass:\"el-icon-info\",attrs:{\"type\":\"info\"}},[_vm._v(\" 待执行\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"try_times\",\"label\":\"执行耗时\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.duration)+\"ms\")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"biz_data\",\"label\":\"业务参数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popover',{attrs:{\"placement\":\"right-start\",\"title\":\"业务参数\",\"width\":\"600\",\"trigger\":\"click\"}},[_c('el-row',[_c('json-viewer',{attrs:{\"value\":scope.row.data,\"expand-depth\":10,\"expanded\":\"\"}})],1),_c('el-button',{staticClass:\"c-blue\",attrs:{\"slot\":\"reference\",\"type\":\"text\",\"icon\":\"el-icon-document\"},slot:\"reference\"},[_vm._v(\"查看\")])],1)]}}])}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"执行结果\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status===0)?_c('span',[_vm._v(\"--\")]):_vm._e(),(scope.row.status!==0)?_c('el-popover',{attrs:{\"placement\":\"right-start\",\"title\":\"执行结果\",\"width\":\"600\",\"trigger\":\"click\"}},[(scope.row.status===-1)?_c('span',[_vm._v(_vm._s(scope.row.remark))]):_vm._e(),_c('el-row',[_c('json-viewer',{attrs:{\"value\":scope.row.result,\"expand-depth\":10,\"expanded\":\"\"}})],1),_c('el-button',{staticClass:\"c-blue\",attrs:{\"slot\":\"reference\",\"type\":\"text\",\"icon\":\"el-icon-document\"},slot:\"reference\"},[_vm._v(\"查看\")])],1):_vm._e()]}}])})],1),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.searchParams.page,\"page-sizes\":[50, 100, 200,500,1000],\"page-size\":_vm.searchParams.size,\"layout\":\"total,sizes, prev, pager, next\",\"total\":_vm.searchParams.count},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.searchParams, \"page\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.searchParams, \"page\", $event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!--搜索栏-->\r\n        <el-form :inline=\"true\" :model=\"searchParams\" ref=\"searchForm\" label-width=\"90px\" class=\"demo-form-inline\">\r\n            <el-select v-model=\"searchParams.status\" placeholder=\"状态\" @change=\"getList\">\r\n                <el-option\r\n                    v-for=\"item in statusMaps\"\r\n                    :key=\"item.status\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.status\">\r\n                </el-option>\r\n            </el-select>\r\n            <el-form-item prop=\"day\" class=\"ml-10\">\r\n                <el-date-picker v-model=\"searchParams.day\" align=\"right\" type=\"date\" placeholder=\"选择日期\" :picker-options=\"pickerOptions\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" @change=\"getList\"></el-date-picker>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button icon=\"el-icon-search\" type=\"primary\" @click=\"getList()\" :loading=\"isLoading\">查询</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <el-table :data=\"dataList\" stripe style=\"width: 100%\" row-key=\"id\">\r\n            <el-table-column prop=\"id\" label=\"ID\" width=\"240\"></el-table-column>\r\n            <el-table-column prop=\"handler\" label=\"脚本\" width=\"200\"></el-table-column>\r\n            <el-table-column prop=\"created\" label=\"创建时间\">\r\n                <template v-slot=\"scope\">{{ scope.row.created|HumanizedTime }}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"finished\" label=\"更新时间\">\r\n                <template v-slot=\"scope\">{{ scope.row.updated|HumanizedTime }}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"try_times\" label=\"执行次数\">\r\n                <template v-slot=\"scope\">{{ scope.row.try_times }}/{{ scope.row.try_limit }}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"status\" label=\"执行状态\">\r\n                <template v-slot=\"scope\">\r\n                    <el-tag class=\"el-icon-success\" type=\"success\" v-if=\"scope.row.status===1\"> 成功</el-tag>\r\n                    <el-tag class=\"el-icon-warning\" type=\"warning\" v-else-if=\"scope.row.status===-1 && scope.row.try_times>=scope.row.try_limit\"> 失败</el-tag>\r\n                    <el-tag class=\"el-icon-info\" type=\"warning\" v-else-if=\"scope.row.status===-1 && scope.row.try_times<scope.row.try_limit\">{{ scope.row.next_try|HumanizedTime }}重试</el-tag>\r\n                    <el-tag class=\"el-icon-info\" type=\"info\" v-else> 待执行</el-tag>\r\n\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"try_times\" label=\"执行耗时\">\r\n                <template v-slot=\"scope\">{{ scope.row.duration }}ms</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"biz_data\" label=\"业务参数\">\r\n                <template v-slot=\"scope\">\r\n                    <el-popover placement=\"right-start\" title=\"业务参数\" width=\"600\" trigger=\"click\">\r\n                        <el-row>\r\n                            <json-viewer :value=\"scope.row.data\" :expand-depth=10 expanded></json-viewer>\r\n                        </el-row>\r\n                        <el-button type=\"text\" slot=\"reference\" class=\"c-blue\" icon=\"el-icon-document\">查看</el-button>\r\n                    </el-popover>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"remark\" label=\"执行结果\">\r\n                <template v-slot=\"scope\">\r\n                    <span v-if=\"scope.row.status===0\">--</span>\r\n                    <el-popover placement=\"right-start\" title=\"执行结果\" width=\"600\" trigger=\"click\" v-if=\"scope.row.status!==0\">\r\n                        <span v-if=\"scope.row.status===-1\">{{ scope.row.remark }}</span>\r\n                        <el-row>\r\n                            <json-viewer :value=\"scope.row.result\" :expand-depth=10 expanded></json-viewer>\r\n                        </el-row>\r\n                        <el-button type=\"text\" slot=\"reference\" class=\"c-blue\" icon=\"el-icon-document\">查看</el-button>\r\n                    </el-popover>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <!--翻页-->\r\n        <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"searchParams.page\" :page-sizes=\"[50, 100, 200,500,1000]\" :page-size=\"searchParams.size\" layout=\"total,sizes, prev, pager, next\" :total=\"searchParams.count\"></el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nimport JsonViewer from 'vue-json-viewer'\r\n\r\nexport default {\r\n    name: \"Rq\",\r\n    components: {\r\n        JsonViewer\r\n    },\r\n    mounted() {\r\n        this.getList()\r\n    },\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            statusMaps: [\r\n                {label: '队列中', status: 0},\r\n                {label: '执行成功', status: 1},\r\n                {label: '待重试', status: 2},\r\n                {label: '执行失败', status: -1}\r\n            ],\r\n            pickerOptions: {\r\n                disabledDate(time) {\r\n                    return time.getTime() > Date.now();\r\n                },\r\n                shortcuts: [{\r\n                    text: '今天',\r\n                    onClick(picker) {\r\n                        picker.$emit('pick', new Date());\r\n                    }\r\n                }, {\r\n                    text: '昨天',\r\n                    onClick(picker) {\r\n                        const date = new Date();\r\n                        date.setTime(date.getTime() - 3600 * 1000 * 24);\r\n                        picker.$emit('pick', date);\r\n                    }\r\n                }, {\r\n                    text: '一周前',\r\n                    onClick(picker) {\r\n                        const date = new Date();\r\n                        date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\r\n                        picker.$emit('pick', date);\r\n                    }\r\n                }]\r\n            },\r\n            searchParams: {\r\n                page: 1,\r\n                count: 0,\r\n                size: 100,\r\n                day: moment().format('YYYY-MM-DD'),\r\n                status: this.$route.params.status || 0\r\n            },\r\n            dataList: [],\r\n            count: {\r\n                total: 0,\r\n                failed: 0,\r\n                success: 0\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        //获取列表\r\n        getList() {\r\n            this.isLoading = true;\r\n            this.$request.get('/queue', this.$copy(this.searchParams)).then(result => {\r\n                if (result.errCode) {\r\n                    this.$message.error(result.message);\r\n                } else {\r\n                    this.dataList = result.data.list;\r\n                    this.searchParams.count = result.data.total;//总条数\r\n                }\r\n            }).catch(error => {\r\n                this.$message.error(error);\r\n\r\n            }).then(() => {\r\n                this.isLoading = false;\r\n            });\r\n        },\r\n        // 点击分页\r\n        handleSizeChange(val) {\r\n            this.searchParams.size = val;\r\n            this.getList();\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.searchParams.page = val;\r\n            this.getList();\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Queue.vue?vue&type=template&id=2481238a&scoped=true&\"\nimport script from \"./Queue.vue?vue&type=script&lang=js&\"\nexport * from \"./Queue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2481238a\",\n  null\n  \n)\n\nexport default component.exports","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n"],"sourceRoot":""}