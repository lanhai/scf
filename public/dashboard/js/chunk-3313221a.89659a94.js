(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3313221a"],{"3e3f":function(t,e,n){},"4ec1":function(t,e,n){"use strict";var o=n("6d81"),a=n.n(o);a.a},"6d67":function(t,e,n){"use strict";var o=n("5ca1"),a=n("0a49")(1);o(o.P+o.F*!n("2f21")([].map,!0),"Array",{map:function(t){return a(this,t,arguments[1])}})},"6d81":function(t,e,n){},"8fc1":function(t,e,n){"use strict";var o=n("3e3f"),a=n.n(o);a.a},c4da:function(t,e,n){"use strict";var o=n("d432"),a=n.n(o);a.a},cf05:function(t,e,n){t.exports=n.p+"img/logo.40a486d5.png"},d432:function(t,e,n){},d504:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("css",{attrs:{href:"//at.alicdn.com/t/font_1896021_37x41oa4sxj.css"}}),n("el-container",[n("el-header",[n("Header")],1),n("el-container",[n("el-aside",{style:{width:t.sideBarWidth+"px"}},[n("Nav")],1),n("el-main",[n("div",{ref:"container",staticClass:"app-container"},[n("router-view")],1)])],1)],1)],1)},a=[],s=(n("7f7f"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"header-wrapper"},[o("el-header",[o("el-row",{attrs:{gutter:24}},[o("el-col",{attrs:{span:12}},[o("div",{staticClass:"header-icon"},[o("img",{staticClass:"header-logo",staticStyle:{"margin-top":"13px"},attrs:{src:n("cf05")}})])]),o("el-col",{staticStyle:{"text-align":"right",overflow:"hidden"},attrs:{span:12}},[o("div",{staticClass:"fr"},[1==t.userInfo.is_station?o("el-link",{on:{click:function(e){return t.toNotice()}}},[o("i",{staticClass:"el-icon-bell i-mark"},[o("em",{directives:[{name:"show",rawName:"v-show",value:1!=t.readStatus,expression:"readStatus != 1"}],staticClass:"mark"})]),t._v("\n                            消息\n                        ")]):t._e(),t.userInfo.master?o("el-link",{on:{click:t.loginBack}},[o("i",{staticClass:"el-icon-refresh"}),t._v("\n                            切换\n                        ")]):t._e(),o("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommond}},[o("span",{staticClass:"el-dropdown-link txt-center"},[t._v("管理员\n                                "),o("i",{staticClass:"el-icon-arrow-down"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"logout"}},[t._v("\n                                    退出系统\n                                ")])],1)],1)],1)])],1)],1)],1)}),i=[],r={name:"Header",data:function(){return{url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",search:"",userInfo:{},readStatus:0,station:"",stationList:[]}},mounted:function(){var t=this;this.$user.checkLogin(function(e){t.userInfo=e})},methods:{tolink:function(t){this.$router.push(t)},goLogin:function(){this.$router.push({path:"/login"})},handleCommond:function(t){switch(t){case"logout":this.logout();break;case"reset_password":this.$router.push("/user/password");break;case"reset_avator":this.$router.push("/user/avator");break}},logout:function(){var t=this;this.$message.confirm({message:"确定要退出登录吗"},function(){t.$loading.show("退出登录中"),t.$user.logout(function(){t.$loading.close(),t.$store.commit("menuRouteLoaded",!1),t.$router.push("/login")})})},goBack:function(){console.log("go back")},toNotice:function(){this.$router.push("/notice")},getReadStatus:function(){var t=this;this.$api.management.readNoticeStatus().then(function(e){e.errCode?t.$message.error(e.message):t.readStatus=e.data.all_read}).catch(function(e){t.$message.error(e)})}}},c=r,l=(n("4ec1"),n("2877")),u=Object(l["a"])(c,s,i,!1,null,"2fc0c1ac",null),d=u.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav sidebar nj-nav"},[n("div",{staticClass:"nj-nav-menu"},[n("ul",[t._l(t.menuList,function(e,o){return n("el-col",{key:o},[n("li",{class:o===t.curPage?"active":"",on:{click:function(n){return t.showSubs(e,o)}}},[n("i",{class:e.ico}),n("div",{staticClass:"mt-5"},[t._v("\n                        "+t._s(e.name)+"\n                    ")]),n("i",{staticClass:"el-icon-caret-left"})])])}),n("el-col",[n("li",{on:{click:t.goDocument}},[n("i",{staticClass:"el-icon-document"}),n("div",{staticClass:"mt-5"},[t._v("\n                        文档\n                    ")]),n("i",{staticClass:"el-icon-caret-left"})])])],2)])])},f=[],m=(n("a481"),n("6d67"),n("2b0e")),p=new m["default"],g=p,v={name:"Nav",data:function(){return{isCollapse:!1,itemId:0,items:[],curPage:0,menuList:[{id:1,name:"节点",ico:"el-icon-s-platform",path:"/server/status",group_name:"节点管理",childrens:[]},{id:2,name:"任务",ico:"el-icon-alarm-clock",path:"/server/crontab",group_name:"后台任务",childrens:[]},{id:3,name:"队列",ico:"el-icon-s-operation",path:"/server/queue",group_name:"redis队列",childrens:[]},{id:4,name:"数据",ico:"el-icon-coin",path:"/database/maintain",group_name:"数据维护",childrens:[]}]}},methods:{goDocument:function(){var t=this.$router.resolve({path:"/document/ws",query:{}});window.open(t.href,"_blank")},showSubs:function(t,e){this.curPage=e,this.$router.push(t.path)},render:function(){var t=this;this.menuList.map(function(e,n){e.childrens.length>0?e.childrens.map(function(e,o){e.path===t.$route.path&&(t.curPage=n)}):e.path===t.$route.path&&(t.curPage=n)})}},mounted:function(){this.render()},created:function(){var t=this;g.$on("collapse",function(e){t.collapse=e})},updated:function(){this.render()},computed:{onRoutes:function(){return this.$route.path.replace("/","")}},watch:{$route:function(t){this.render()}}},w=v,$=(n("c4da"),Object(l["a"])(w,h,f,!1,null,null,null)),_=$.exports,k={name:"Index",data:function(){return{sideBarWidth:80,leftWidth:100,showLogoutAlert:!1,promptTimes:0,isLoading:!1,topH:0}},components:{Header:d,Nav:_},mounted:function(){window.addEventListener("scroll",this.handleScroll,!0)},methods:{handleScroll:function(){this.$store.commit("setIndexTop",this.$refs.container.offsetTop),this.$store.commit("setEditTop",this.$refs.container.getBoundingClientRect().top)}},watch:{$route:function(t,e){this.$store.commit("setRoutePath",{current:t.fullPath,previous:e.fullPath})}},created:function(){var t=this;g.$on("collapse",function(e){t.collapse=e}),g.$on("tags",function(e){for(var n=[],o=0,a=e.length;o<a;o++)e[o].name&&n.push(e[o].name);t.tagsList=n})},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)}},C=k,b=(n("8fc1"),Object(l["a"])(C,o,a,!1,null,null,null));e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-3313221a.89659a94.js.map